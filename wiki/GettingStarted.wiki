#summary Getting Started

<wiki:toc />

= Introduction =

This document is a 5 minute introduction to the project. After short lecture you will be able to build the project and generate project sites.

= Requirements =

  * Apache Maven (version 2.2.1 or 3.0.2)
  * SVN client (tested with version 1.6.6)

= Checkout Source Code =

To anonymously check out the latest project source code call:

{{{
svn checkout http://m4enterprise.googlecode.com/svn/ m4enterprise
}}}

= Install Corporate POM = 

There is no public repository for _M4Enterprise_ project. Before any further step latest released Corporate POM must be installed in the local repository. Change the current directory to the latest Corporate POM tag (version 1.31 in the example):

{{{
cd m4enterprise/tags/corporate-pom-1.31/
}}}

Finally install Corporate POM to the local repository:

{{{
mvn -P corporate-pom install
}}}

Corporate POM should be installed in the local repository. Default repository location is `$HOME\.m2\repository`.

= Simple WAR Project =

Now you should be able to build Simple WAR project:

{{{
cd m4enterprise/trunk/simple-war
mvn install
}}}

If you want to generate project site call:

{{{
mvn verify site
}}}

You can find generated site under `target\site` directory.

= Modular WAR Project =

Lets do something more complex now. To build modular WAR project call:

{{{
cd m4enterprise/trunk/modular-war
mvn install
}}}

If you want to generate modular project site call:

{{{
mvn verify site:stage
}}}

You can find generated site under `target\staging` directory.

= Artifacts and Sites Deployment = 

Before you try artifacts and sites deployment, the deployment location must be configured. The easiest way to do that is to configure local directory as _enterprise_ repository. Add the following profile to `$HOME/.m2/settings.xml` file:

{{{
<profile>
  <id>m4enterprise</id>
      
  <properties>
    <com.acme.maven.corporate-pom.distributionManagement.repositoryUrl>file:///${env.HOME}/.m4enterprise/releases</com.acme.maven.corporate-pom.distributionManagement.repositoryUrl>
    <com.acme.maven.corporate-pom.distributionManagement.snapshotRepositoryUrl>file:///${env.HOME}/.m4enterprise/snapshots</com.acme.maven.corporate-pom.distributionManagement.snapshotRepositoryUrl>
    <com.acme.maven.corporate-pom.distributionManagement.siteUrl>file:///${env.HOME}/.m4enterprise/sites</com.acme.maven.corporate-pom.distributionManagement.siteUrl>
  </properties>
</profile>
}}}

The profile must be also activated:

{{{
<activeProfiles>
  <activeProfile>m4enterprise</activeProfile>
</activeProfiles>
}}}

Now you can deploy Simple WAR or Modular WAR projects with `deploy` goal:

{{{
mvn deploy
}}}

To deploy project sites call `site-deploy` goal:

{{{
mvn site-deploy
}}}

All artifacts are deployed under `$HOME\.m4enterprise\` directory.